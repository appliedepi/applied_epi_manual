[["_main.html", "The Epidemiologist R Handbook 1 output: bookdown::gitbook: R for applied epidemiology and public health How to use this handbook Acknowledgements Terms of Use and Contribution 2 Editorial and technical notes 2.1 Approach and style 2.2 Editorial decisions 2.3 Major revisions 2.4 Session info (R, RStudio, packages) 3 Download handbook and data 3.1 Download offline handbook 3.2 Download data to follow along 4 R Basics 4.1 Why use R? 4.2 Key terms 4.3 Resources for learning 4.4 Installation 4.5 RStudio 4.6 Functions 4.7 Packages 4.8 Scripts 4.9 Working directory 4.10 Objects 4.11 Piping (%&gt;%) 4.12 Key operators and functions 4.13 Errors &amp; warnings 5 Transition to R 5.1 From Excel 5.2 From Stata 5.3 From SAS 5.4 Data interoperability 6 Suggested packages 6.1 Packages from CRAN 6.2 Packages from Github 7 R projects 7.1 Suggested use 7.2 Creating an R project 7.3 Examples 7.4 Resources 8 Import and export 8.1 Overview 8.2 The rio package 8.3 The here package 8.4 File paths 8.5 Import data 8.6 Multiple files - import, export, split, combine 8.7 Import from Github 8.8 Manual data entry 8.9 Import most recent file 8.10 APIs 8.11 Export 8.12 RDS files 8.13 Rdata files and lists 8.14 Saving plots 8.15 Resources 9 Cleaning data and core functions 9.1 Cleaning pipeline 9.2 Load packages 9.3 Import data 9.4 Column names 9.5 Select or re-order columns 9.6 Deduplication 9.7 Column creation and transformation 9.8 Re-code values 9.9 Numeric categories 9.10 Add rows 9.11 Filter rows 9.12 Row-wise calculations 9.13 Arrange and sort 10 Working with dates 10.1 Preparation 10.2 Current date 10.3 Convert to Date 10.4 Excel dates 10.5 Messy dates 10.6 Working with date-time class 10.7 Working with dates 10.8 Date display 10.9 Epidemiological weeks 10.10 Converting dates/time zones 10.11 Lagging and leading calculations 10.12 Resources 11 Characters and strings 11.1 Preparation 11.2 Unite, split, and arrange 11.3 Clean and standardise 11.4 Handle by position 11.5 Patterns 11.6 Special characters 11.7 Regular expressions (regex) 11.8 Regex and special characters 11.9 Resources 12 Factors 12.1 Preparation 12.2 Convert to factor 12.3 Add or drop levels 12.4 Adjust level order 12.5 Missing values 12.6 Combine levels 12.7 Show all levels 12.8 Epiweeks 12.9 Resources 13 Pivoting data 13.1 Preparation 13.2 Wide-to-long 13.3 Long-to-wide 13.4 Fill 13.5 Resources 14 Grouping data 14.1 Preparation 14.2 Grouping 14.3 Un-group 14.4 Summarise 14.5 Counts and tallies 14.6 Grouping by date 14.7 Arranging grouped data 14.8 Filter on grouped data 14.9 Mutate on grouped data 14.10 Select on grouped data 14.11 Resources 15 Joining data 15.1 Preparation 15.2 dplyr joins 15.3 Probabalistic matching 15.4 Binding and aligning 15.5 Resources 16 De-duplication 16.1 Preparation 16.2 Deduplication 16.3 Slicing 16.4 Roll-up values 16.5 Probabilistic de-duplication 16.6 Resources 17 Iteration, loops, and lists 17.1 Preparation 17.2 for loops 17.3 purrr and lists 17.4 Apply functions 17.5 Resources 18 Descriptive tables 18.1 Preparation 18.2 Browse data 18.3 janitor package 18.4 dplyr package 18.5 gtsummary package 18.6 base R 18.7 Resources 19 Simple statistical tests 19.1 Preparation 19.2 base R 19.3 rstatix package 19.4 gtsummary package 19.5 Correlations 19.6 Resources 20 Univariate and multivariable regression 20.1 Preparation 20.2 Univariate 20.3 Stratified 20.4 Multivariable 20.5 Forest plot 20.6 Resources 21 Missing data 21.1 Preparation 21.2 Missing values in R 21.3 Useful functions 21.4 Assess missingness in a data frame 21.5 Using data with missing values 21.6 Imputation 21.7 Resources 22 Standardised rates 22.1 Overview 22.2 Preparation 22.3 dsr package 22.4 PHEindicatormethods package 22.5 Resources 23 Moving averages 23.1 Preparation 23.2 Calculate with slider 23.3 Calculate with tidyquant within ggplot() 23.4 Resources 24 Time series and outbreak detection 24.1 Overview 24.2 Preparation 24.3 Time series data 24.4 Descriptive analysis 24.5 Fitting regressions 24.6 Relation of two time series 24.7 Outbreak detection 24.8 Interrupted timeseries 24.9 Resources 25 Epidemic modeling 25.1 Overview 25.2 Preparation 25.3 Estimating Rt 25.4 Projecting incidence 25.5 Resources 26 Contact tracing 26.1 Preparation 26.2 Descriptive analyses 26.3 Contact Follow Up 26.4 KPI Tables 26.5 Transmission Matrices 26.6 Resources 27 Survey analysis 27.1 Overview 27.2 Preparation 27.3 Survey data 27.4 Observation time 27.5 Weighting 27.6 Survey design objects 27.7 Descriptive analysis 27.8 Weighted proportions 27.9 Weighted ratios 27.10 Resources 28 Survival analysis 28.1 Overview 28.2 Preparation 28.3 Basics of survival analysis 28.4 Comparison of survival curves 28.5 Cox regression analysis 28.6 Time-dependent covariates in survival models 28.7 Resources 29 GIS basics 29.1 Overview 29.2 Key terms 29.3 Getting started with GIS 29.4 Preparation 29.5 Plotting coordinates 29.6 Spatial joins 29.7 Choropleth maps 29.8 Mapping with ggplot2 29.9 Basemaps 29.10 Contoured density heatmaps 29.11 Spatial statistics 29.12 Resources 30 Tables for presentation 30.1 Preparation 30.2 Basic flextable 30.3 Conditional formatting 30.4 All code together 30.5 Saving your table 30.6 Resources 31 ggplot basics 31.1 Preparation 31.2 Basics of ggplot 31.3 ggplot() 31.4 Geoms 31.5 Mapping data to the plot 31.6 Facets / Small-multiples 31.7 Storing plots 31.8 Labels 31.9 Themes 31.10 Colors 31.11 Piping into ggplot2 31.12 Plot continuous data 31.13 Plot categorical data 31.14 Resources 32 ggplot tips 32.1 Preparation 32.2 Scales for color, fill, axes, etc. 32.3 Change order of discrete variables 32.4 Contour lines 32.5 Marginal distributions 32.6 Smart Labeling 32.7 Time axes 32.8 Highlighting 32.9 Plotting multiple datasets 32.10 Combine plots 32.11 Dual axes 32.12 Packages to help you 32.13 Miscellaneous 32.14 Resources 33 Epidemic curves 33.1 Preparation 33.2 Epicurves with incidence2 package 33.3 Epicurves with ggplot2 33.4 Tentative data 33.5 Multi-level date labels 33.6 Dual-axis 33.7 Cumulative Incidence 33.8 Resources 34 Demographic pyramids and Likert-scales 34.1 Preparation 34.2 apyramid package 34.3 ggplot() 34.4 Likert scale 34.5 Resources 35 Heat plots 35.1 Preparation 35.2 Transmission matrix 35.3 Reporting metrics over time 35.4 Resources 36 Diagrams and charts 36.1 Preparation 36.2 Flow diagrams 36.3 Alluvial/Sankey Diagrams 36.4 Event timelines 36.5 DAGs 36.6 Resources 37 Combinations analysis 37.1 Preparation 37.2 ggupset 37.3 UpSetR 37.4 Resources 38 Phylogenetic trees 38.1 Overview 38.2 Preparation 38.3 Simple tree visualization 38.4 Tree manipulation More complex trees: adding heatmaps of sample data 38.5 Resources 39 Interactive plots 39.1 Preparation 39.2 Plot with ggplotly() 39.3 Modifications 39.4 Heat tiles 39.5 Resources 40 Reports with R Markdown 40.1 Preparation 40.2 Getting started 40.3 R Markdown components 40.4 File structure 40.5 Producing the document 40.6 Parameterised reports 40.7 Looping reports 40.8 Templates 40.9 Dynamic content 40.10 Resources 41 Organizing routine reports 41.1 Preparation 41.2 New factory 41.3 Create a report 41.4 Compile 41.5 Outputs 41.6 Miscellaneous 41.7 Resources 42 Dashboards with R Markdown 42.1 Preparation 42.2 Create new R Markdown 42.3 The script 42.4 Section attributes 42.5 Layout 42.6 Adding content 42.7 Code organization 42.8 Shiny 42.9 Sharing 42.10 Resources 43 Dashboards with Shiny 43.1 Preparation 43.2 The structure of a shiny app 43.3 Building a UI 43.4 Loading data into our app 43.5 Developing an app server 43.6 Adding more functionality 43.7 Sharing shiny apps 43.8 Further reading 43.9 Recommended extension packages 43.10 Recommended resources 44 Writing functions 44.1 Preparation 44.2 Functions 44.3 Why would you use a function? 44.4 How does R build functions? 44.5 Basic syntax and structure 44.6 Examples 44.7 Using purrr: writing functions that can be iteratively applied 44.8 Tips and best Practices for well functioning functions 44.9 Resources 45 Directory interactions 45.1 Preparation 45.2 List files in a directory 45.3 File information 45.4 Check if exists 45.5 Create 45.6 Delete 45.7 Running other files 45.8 base R 45.9 Resources 46 Version control and collaboration with Git and Github 46.1 What is Git? 46.2 Why use the combo Git and Github? 46.3 Setup 46.4 Vocabulary, concepts and basic functions 46.5 Get started: create a new repository 46.6 Git + Github workflow 46.7 Create a new branch 46.8 Commit changes 46.9 Pull and push changes up to Github 46.10 Merge branch into Main 46.11 What we learned 46.12 Git commands 46.13 Resources 47 Common errors 47.1 Interpreting error messages 47.2 Common errors 47.3 Resources 48 Getting help 48.1 Github issues 48.2 Reproducible example 48.3 Posting to a forum 48.4 Resources 49 R on network drives 49.1 Overview 49.2 RStudio as administrator 49.3 Useful commands 49.4 Troubleshooting common errors 50 Data Table 50.1 Intro to data tables 50.2 Load packages and import data 50.3 The i argument: selecting and filtering rows 50.4 The j argument: selecting and computing on columns 50.5 The by argument: computing by groups 50.6 Adding and updating to data tables 50.7 Resources", " The Epidemiologist R Handbook the handbook team 2022-11-20 1 output: bookdown::gitbook: Placeholder R for applied epidemiology and public health How to use this handbook Acknowledgements Contributors Funding and support Inspiration Terms of Use and Contribution License Citation Contribution 2 Editorial and technical notes Placeholder 2.1 Approach and style R packages Code style Nomenclature Notes 2.2 Editorial decisions 2.3 Major revisions 2.4 Session info (R, RStudio, packages) 3 Download handbook and data Placeholder 3.1 Download offline handbook Use download link Use our R package 3.2 Download data to follow along Use our R package Download one-by-one Case linelist Malaria count data Likert-scale data Flexdashboard Contact Tracing GIS Phylogenetic trees Standardization Time series and outbreak detection Survey analysis Shiny 4 R Basics Placeholder 4.1 Why use R? 4.2 Key terms 4.3 Resources for learning Resources within RStudio Cheatsheets Twitter Free online resources Languages other than English 4.4 Installation R and RStudio Other software you may need to install TinyTex Pandoc RTools phantomjs 4.5 RStudio RStudio orientation RStudio settings Keyboard shortcuts 4.6 Functions Simple functions Functions with multiple arguments Writing Functions 4.7 Packages Install and load Your library Install from CRAN How to install and load Code syntax Function help Update packages Delete packages Dependencies Masked functions Detach / unload Install older version Suggested packages 4.8 Scripts Commenting Style Example Script R markdown R notebooks Shiny Code folding 4.9 Working directory Recommended approach Set by command Set manually Within an R project Working directory in an R markdown Providing file paths 4.10 Objects Everything is an object Defining objects (&lt;-) Object structure Object classes Columns/Variables ($) Access/index with brackets ([ ]) Remove objects 4.11 Piping (%&gt;%) Pipes Define intermediate objects 4.12 Key operators and functions Assignment operators Relational and logical operators Missing values Mathematics and statistics Mathematical operators Mathematical functions Scientific notation Rounding Statistical functions Other useful functions %in% 4.13 Errors &amp; warnings Error versus Warning General syntax tips Code assists 5 Transition to R Placeholder 5.1 From Excel Benefits Tidy data Functions Scripts Excel-to-R resources R-Excel interaction 5.2 From Stata 5.3 From SAS 5.4 Data interoperability 6 Suggested packages Placeholder 6.1 Packages from CRAN 6.2 Packages from Github 7 R projects Placeholder 7.1 Suggested use 7.2 Creating an R project Switch projects Settings Organization Version control 7.3 Examples 7.4 Resources 8 Import and export Placeholder 8.1 Overview 8.2 The rio package 8.3 The here package 8.4 File paths “Relative” file paths “Absolute” file paths Select file manually 8.5 Import data Specific Excel sheets Missing values Skip rows Manage a second header row Remove the second header row Make a data dictionary Combine the two header rows Google sheets 8.6 Multiple files - import, export, split, combine 8.7 Import from Github CSV files XLSX files Shapefiles 8.8 Manual data entry Entry by rows Entry by columns Pasting from clipboard 8.9 Import most recent file Dates in file name Use the file info 8.10 APIs HTTP request Packages Publicly-available data Authentication required 8.11 Export With rio package To clipboard 8.12 RDS files 8.13 Rdata files and lists 8.14 Saving plots 8.15 Resources 9 Cleaning data and core functions Placeholder Core functions Nomenclature 9.1 Cleaning pipeline 9.2 Load packages 9.3 Import data Import Review 9.4 Column names Automatic cleaning Manual name cleaning Rename by column position Rename via select() and summarise() Other challenges Empty Excel column names Merged Excel column names and cells 9.5 Select or re-order columns Keep columns “tidyselect” helper functions Remove columns Standalone Add to the pipe chain 9.6 Deduplication 9.7 Column creation and transformation New columns Convert column class Grouped data Transform multiple columns across() column selection across() functions coalesce() Cumulative math Using base R Add to pipe chain 9.8 Re-code values Specific values By logic Simple logic replace() ifelse() and if_else() Complex logic Missing values Cleaning dictionary Add to pipe chain 9.9 Numeric categories Review distribution age_categories() cut() Quantile breaks Evenly-sized groups case_when() Add to pipe chain 9.10 Add rows One-by-one Bind rows 9.11 Filter rows Simple filter Filter out missing values Filter by row number Complex filter Examine the data How filters handle missing numeric and date values Design the filter Standalone Quickly review records Add to pipe chain 9.12 Row-wise calculations 9.13 Arrange and sort 10 Working with dates Placeholder 10.1 Preparation Load packages Import data 10.2 Current date 10.3 Convert to Date base R lubridate Combine columns 10.4 Excel dates 10.5 Messy dates 10.6 Working with date-time class Convert dates with times Convert times alone Extract time 10.7 Working with dates Extract date components Date math Date intervals 10.8 Date display format() Month-Year 10.9 Epidemiological weeks lubridate Weekly counts Epiweek alternatives 10.10 Converting dates/time zones 10.11 Lagging and leading calculations 10.12 Resources 11 Characters and strings Placeholder 11.1 Preparation Load packages Import data 11.2 Unite, split, and arrange Combine strings Dynamic strings Unite columns Split Split columns Arrange alphabetically base R functions 11.3 Clean and standardise Change case Pad length Truncate Standardize length Remove leading/trailing whitespace Remove repeated whitespace within Wrap into paragraphs 11.4 Handle by position Extract by character position Extract by word position Replace by character position Evaluate length 11.5 Patterns Detect a pattern Convert commas to periods Replace all Detect within logic Locate pattern position Extract a match Subset and count Regex groups 11.6 Special characters 11.7 Regular expressions (regex) 11.8 Regex and special characters 11.9 Resources 12 Factors Placeholder 12.1 Preparation Load packages Import data New categorical variable Create column Default value order 12.2 Convert to factor 12.3 Add or drop levels Add Drop 12.4 Adjust level order Manually Within a plot Reverse By frequency By appearance By summary statistic of another column By “end” value 12.5 Missing values 12.6 Combine levels Manually Reduce into “Other” Reduce by frequency 12.7 Show all levels In plots In tables 12.8 Epiweeks Epiweeks in a plot Epiweeks in the data 12.9 Resources 13 Pivoting data Placeholder 13.1 Preparation Load packages Import data Malaria count data Linelist case data 13.2 Wide-to-long “Wide” format pivot_longer() Standard pivoting Pivoting data of multiple classes 13.3 Long-to-wide Data Pivot wider 13.4 Fill Data fill() 13.5 Resources 14 Grouping data Placeholder 14.1 Preparation Load packages Import data 14.2 Grouping Unique groups New columns Add/drop grouping columns 14.3 Un-group 14.4 Summarise 14.5 Counts and tallies tally() count() Add counts Add totals 14.6 Grouping by date Linelist cases into days Linelist cases into weeks Linelist cases into months Daily counts into weeks Daily counts into months 14.7 Arranging grouped data 14.8 Filter on grouped data filter() Slice rows per group Filter on group size 14.9 Mutate on grouped data 14.10 Select on grouped data 14.11 Resources 15 Joining data Placeholder 15.1 Preparation Load packages Import data Example datasets “Miniature” case linelist Hospital information data frame Pre-cleaning 15.2 dplyr joins General syntax Left and right joins “Should I use a right join, or a left join?” Full join Inner join Semi join Anti join Simple anti_join() example Complex anti_join() example 15.3 Probabalistic matching Probabilistic matching Probabilistic deduplication 15.4 Binding and aligning Bind rows Bind columns Use match() to align ordering 15.5 Resources 16 De-duplication Placeholder 16.1 Preparation Load packages Import data Here is the data frame 16.2 Deduplication Examine duplicate rows Keep only unique rows Deduplicate elements in a vector Using base R 16.3 Slicing Slice with groups Keep all but mark them Calculate row completeness 16.4 Roll-up values Roll-up values into one row Overwrite values/hierarchy 16.5 Probabilistic de-duplication 16.6 Resources 17 Iteration, loops, and lists Placeholder 17.1 Preparation Load packages Import data 17.2 for loops for loops in R Core components Sequence Operations Container Printing Testing your for loop Looping plots Tracking progress of a loop 17.3 purrr and lists Load packages map() Example - import and combine Excel sheets Split dataset and export Split dataset More than one group_split() column Export as Excel sheets Export as CSV files Custom functions Mapping a function across columns Extract from lists Names of elements Elements by name or position pluck() Convert list to data frame Discard, keep, and compact lists pmap() 17.4 Apply functions 17.5 Resources 18 Descriptive tables Placeholder 18.1 Preparation Load packages Import data 18.2 Browse data skimr package Summary statistics 18.3 janitor package Simple tabyl Cross-tabulation “Adorning” the tabyl Printing the tabyl Use on other tables Saving the tabyl Statistics Other tips 18.4 dplyr package Get counts Show all levels Proportions Plotting Summary statistics Conditional statistics Glueing together Percentiles Summarise aggregated data across() multiple columns Pivot wider Total rows janitor’s adorn_totals() summarise() on “total” data and then bind_rows() 18.5 gtsummary package Summary table Adjustments Multi-line stats for continuous variables 18.6 base R Proportions Totals Convert to data frame 18.7 Resources 19 Simple statistical tests Placeholder 19.1 Preparation Load packages Import data 19.2 base R T-tests Shapiro-Wilk test Wilcoxon rank sum test Kruskal-Wallis test Chi-squared test 19.3 rstatix package Summary statistics T-test Shapiro-Wilk test Wilcoxon rank sum test Kruskal-Wallis test Chi-squared test 19.4 gtsummary package Chi-squared test T-tests Wilcoxon rank sum test Kruskal-wallis test 19.5 Correlations 19.6 Resources 20 Univariate and multivariable regression Placeholder 20.1 Preparation Load packages Import data Clean data Store explanatory variables Convert to 1’s and 0’s Drop rows with missing values 20.2 Univariate base R Linear regression Logistic regression Univariate glm() Printing results Looping multiple univariate models gtsummary package 20.3 Stratified 20.4 Multivariable Conduct multivariable Building the model Combine univariate and multivariable Combine with gtsummary Combine with dplyr 20.5 Forest plot ggplot2 package easystats packages 20.6 Resources 21 Missing data Placeholder 21.1 Preparation Load packages Import data Convert missing on import 21.2 Missing values in R NA Versions of NA NULL NaN Inf Examples 21.3 Useful functions is.na() and !is.na() na.omit() drop_na() na.rm = TRUE 21.4 Assess missingness in a data frame Quantifying missingness Visualizing missingness Explore and visualize missingness relationships “Shadow” columns 21.5 Using data with missing values Filter out rows with missing values Handling NA in ggplot() NA in factors 21.6 Imputation Types of missing data Useful packages Mean Imputation Regression imputation LOCF and BOCF Multiple Imputation 21.7 Resources 22 Standardised rates Placeholder 22.1 Overview 22.2 Preparation Load packages Load population data Load death counts Clean populations and deaths Load reference population Clean reference population Create dataset with standard population 22.3 dsr package Standardized rates Standardized rate ratios Standardized rate difference 22.4 PHEindicatormethods package Directly standardized rates Indirectly standardized rates 22.5 Resources 23 Moving averages Placeholder 23.1 Preparation Load packages Import data 23.2 Calculate with slider Rolling by date Indexed data Rolling by group 23.3 Calculate with tidyquant within ggplot() 23.4 Resources 24 Time series and outbreak detection Placeholder 24.1 Overview 24.2 Preparation Packages Load data Clean data Download climate data Load climate data 24.3 Time series data Duplicates Missings 24.4 Descriptive analysis Moving averages Periodicity Decomposition Autocorrelation 24.5 Fitting regressions Fourier terms Negative binomial Residuals 24.6 Relation of two time series Merging datasets Descriptive analysis Lags and cross-correlation Negative binomial with two variables Residuals 24.7 Outbreak detection trending package Cut-off date Add rows Fourier terms Split data and fit regression Prediction validation surveillance package Farrington method GLRNB method 24.8 Interrupted timeseries 24.9 Resources 25 Epidemic modeling Placeholder 25.1 Overview 25.2 Preparation 25.3 Estimating Rt EpiNow2 vs. EpiEstim EpiNow2 Estimating delay distributions Running EpiNow2 Analysing outputs EpiEstim Using serial interval estimates from the literature Using serial interval estimates from the data Specifying estimation time windows Analysing outputs 25.4 Projecting incidence EpiNow2 projections Using serial interval estimates from the literature Using serial interval estimates from the data Projecting incidence 25.5 Resources 26 Contact tracing Placeholder 26.1 Preparation Load packages Import data Case data Contacts data Follow-up data Relationships data 26.2 Descriptive analyses Demographics Age and Gender of contacts Contacts per case 26.3 Contact Follow Up Data cleaning Plot over time Daily individual tracking Analyse by group 26.4 KPI Tables 26.5 Transmission Matrices 26.6 Resources 27 Survey analysis Placeholder 27.1 Overview 27.2 Preparation Packages Load data Clean data 27.3 Survey data 27.4 Observation time 27.5 Weighting 27.6 Survey design objects 27.6.1 Survey package 27.6.2 Srvyr package 27.7 Descriptive analysis 27.7.1 Sampling bias 27.7.2 Demographic pyramids 27.7.3 Alluvial/sankey diagram 27.8 Weighted proportions 27.8.1 Survey package 27.8.2 Srvyr package 27.8.3 Sitrep package 27.8.4 Gtsummary package 27.9 Weighted ratios 27.9.1 Survey package 27.9.2 Srvyr package 27.10 Resources 28 Survival analysis Placeholder 28.1 Overview 28.2 Preparation Load packages Import dataset Data management and transformation 28.3 Basics of survival analysis Building a surv-type object Running initial analyses Cumulative hazard Plotting Kaplan-Meir curves 28.4 Comparison of survival curves Log rank test 28.5 Cox regression analysis Fitting a Cox model Forest plots 28.6 Time-dependent covariates in survival models Time-dependent covariate setup Add unique patient identifier Expand patient rows Cox regression with time-dependent covariates 28.7 Resources 29 GIS basics Placeholder 29.1 Overview 29.2 Key terms GIS software Spatial data Visualizing spatial data 29.3 Getting started with GIS Types of maps for visualizing your data 29.4 Preparation Load packages Sample case data Admin boundary shapefiles Population data Health Facilities 29.5 Plotting coordinates 29.6 Spatial joins Points in polygon Nearest neighbor Buffers Other spatial joins 29.7 Choropleth maps 29.8 Mapping with ggplot2 29.9 Basemaps OpenStreetMap 29.10 Contoured density heatmaps Time series heatmap 29.11 Spatial statistics Spatial relationships Spatial autocorrelation Spatial regression 29.12 Resources 30 Tables for presentation Placeholder 30.1 Preparation Load packages Import data Prepare table 30.2 Basic flextable Create a flextable Column width Column headers Borders and background Font and alignment Merge cells Background color 30.3 Conditional formatting 30.4 All code together 30.5 Saving your table Save single table Print table in R markdown 30.6 Resources 31 ggplot basics Placeholder 31.1 Preparation Load packages Import data General cleaning Pivoting longer 31.2 Basics of ggplot 31.3 ggplot() 31.4 Geoms 31.5 Mapping data to the plot Plot aesthetics Set to a static value Scaled to column values Where to make mapping assignments Groups 31.6 Facets / Small-multiples facet_wrap() facet_grid() Free or fixed axes Factor level order in facets 31.7 Storing plots Saving plots Modifying saved plots Exporting plots 31.8 Labels 31.9 Themes Complete themes Modify theme 31.10 Colors 31.11 Piping into ggplot2 31.12 Plot continuous data Histograms Box plots Violin, jitter, and sina plots Two continuous variables Three continuous variables 31.13 Plot categorical data Preparation Data structure Column class and value ordering geom_bar() geom_col() geom_histogram() 31.14 Resources 32 ggplot tips Placeholder 32.1 Preparation Load packages Import data 32.2 Scales for color, fill, axes, etc. 32.2.1 Color schemes Scales Scale arguments Manual adjustments Continuous axes scales Display percents Log scale Gradient scales Palettes Colorbrewer and Viridis 32.3 Change order of discrete variables 32.3.0.1 ggthemr 32.4 Contour lines 32.5 Marginal distributions 32.6 Smart Labeling 32.7 Time axes 32.8 Highlighting 32.9 Plotting multiple datasets 32.10 Combine plots plot_grid() Combine legends Inset plots 32.11 Dual axes 32.12 Packages to help you Point-and-click ggplot2 with equisse 32.13 Miscellaneous Numeric display 32.14 Resources 33 Epidemic curves Placeholder 33.1 Preparation Packages Import data Set parameters Verify dates 33.2 Epicurves with incidence2 package Simple example Change time interval of case aggregation Groups Filtered data Aggregated counts Facets/small multiples Modifications with plot() Modifications with ggplot2 Change colors Specify a palette Specify manually Adjust level order Vertical gridlines Cumulative incidence Rolling average 33.3 Epicurves with ggplot2 Specify case bins Weekly epicurve example Sunday weeks Group/color by value Adjust colors Adjust level order Adjust legend Bars side-by-side Axis limits Date-axis labels/gridlines Demonstrations Aggregated data Plotting daily counts Plotting weekly counts Moving averages Faceting/small-multiples Total epidemic in facet background One facet with data 33.4 Tentative data Using annotate() Bars color 33.5 Multi-level date labels 33.6 Dual-axis 33.7 Cumulative Incidence 33.8 Resources 34 Demographic pyramids and Likert-scales Placeholder 34.1 Preparation Load packages Import data Cleaning 34.2 apyramid package Linelist data Missing values Proportions, colors, &amp; aesthetics Aggregated data 34.3 ggplot() Preparation Constructing the plot Compare to baseline 34.4 Likert scale 34.5 Resources 35 Heat plots Placeholder 35.1 Preparation Load packages 35.2 Transmission matrix Data preparation Make cases data frame Make infectors data frame Create heat plot 35.3 Reporting metrics over time Data preparation Aggregate and summarize Create heat plot Basic Cleaned plot Ordered y-axis Display values 35.4 Resources 36 Diagrams and charts Placeholder 36.1 Preparation Load packages Import data 36.2 Flow diagrams Simple examples Syntax Complex examples Outputs Parameterized figures 36.3 Alluvial/Sankey Diagrams Load packages Plotting from dataset 36.4 Event timelines 36.5 DAGs 36.6 Resources 37 Combinations analysis Placeholder 37.1 Preparation Load packages Import data Re-format values 37.2 ggupset 37.3 UpSetR 37.4 Resources 38 Phylogenetic trees Placeholder 38.1 Overview 38.2 Preparation Load packages Import data Clean and inspect 38.3 Simple tree visualization Different tree layouts Simple tree plus sample data 38.4 Tree manipulation Zoom in Collapsing branches Subsetting a tree Rotating nodes in a tree Example subtree with sample data annotation More complex trees: adding heatmaps of sample data 38.5 Resources 39 Interactive plots Placeholder 39.1 Preparation Load packages Start with a ggplot() Import data 39.2 Plot with ggplotly() 39.3 Modifications File size Buttons 39.4 Heat tiles 39.5 Resources 40 Reports with R Markdown Placeholder 40.1 Preparation 40.2 Getting started Install rmarkdown R package Starting a new Rmd file Important to know 40.3 R Markdown components YAML metadata Text New lines Case Color Titles and headings Bullets and numbering Comment out text Code chunks In-text R code Images Tables Tabbed sections 40.4 File structure Self-contained Rmd Source other files Runfile Folder strucutre 40.5 Producing the document Option 1: “Knit” button Option 2: render() command Options 3: reportfactory package 40.6 Parameterised reports Setting parameters Option 1: Set parameters within YAML Option 2: Set parameters within render() Option 3: Set parameters using a Graphical User Interface Parameterized example Parameterisation without params 40.7 Looping reports 40.8 Templates Word documents Powerpoint documents Integrating templates into the YAML Formatting HTML files 40.9 Dynamic content Tables HTML widgets 40.10 Resources 41 Organizing routine reports Placeholder 41.1 Preparation Load packages 41.2 New factory 41.3 Create a report 41.4 Compile Compile by name Compile by number Compile all Compile from sub-folder Parameterization Using a “run-file” 41.5 Outputs 41.6 Miscellaneous Knit Scripts Extras 41.7 Resources 42 Dashboards with R Markdown Placeholder 42.1 Preparation Load packages Import data 42.2 Create new R Markdown 42.3 The script YAML Code chunks Narrative text Headings 42.4 Section attributes 42.5 Layout Pages Orientation Tabs 42.6 Adding content Text Tables Plots Interactive plots HTML widgets 42.7 Code organization 42.8 Shiny Settings Worked example Other examples 42.9 Sharing 42.10 Resources 43 Dashboards with Shiny Placeholder 43.1 Preparation Load packages Import data 43.2 The structure of a shiny app Basic file structures The server and the ui Before you start to build an app 43.3 Building a UI 43.4 Loading data into our app 43.5 Developing an app server 43.6 Adding more functionality Adding static text Adding a link Adding a download button Adding a facility selector Adding another tab with a table 43.7 Sharing shiny apps 43.8 Further reading 43.9 Recommended extension packages 43.10 Recommended resources 44 Writing functions Placeholder 44.1 Preparation Load packages Import data 44.2 Functions 44.3 Why would you use a function? 44.4 How does R build functions? 44.5 Basic syntax and structure 44.6 Examples Return proportion tables for several columns 44.7 Using purrr: writing functions that can be iteratively applied Modify class of multiple columns in a dataset Iteratively produce graphs for different levels of a variable Iteratively produce tables for different levels of a variable 44.8 Tips and best Practices for well functioning functions Naming and syntax Column names and tidy evaluation Testing and Error handling 44.9 Resources 45 Directory interactions Placeholder 45.1 Preparation fs package Print directory as a dendrogram tree 45.2 List files in a directory 45.3 File information 45.4 Check if exists R objects Directories Files 45.5 Create Directories Files Create if does not exists 45.6 Delete R objects Directories Files 45.7 Running other files source() render() Run files in a directory Import files in a directory 45.8 base R 45.9 Resources 46 Version control and collaboration with Git and Github Placeholder 46.1 What is Git? 46.2 Why use the combo Git and Github? This sounds complicated, I am not a programmer 46.3 Setup Install Git Install an interface (optional but recommended) Github account 46.4 Vocabulary, concepts and basic functions Repository Commits Branches Local and remote repositories 46.5 Get started: create a new repository Start-up files Create a new repository in Github Clone from a Github repository In Rstudio In Github Desktop New Github repo from existing R project What does it look like now? In RStudio In Github Desktop 46.6 Git + Github workflow Process overview 46.7 Create a new branch In Rstudio Git pane In Github Desktop In console 46.8 Commit changes In Rstudio In Github Desktop In console Amend a previous commit 46.9 Pull and push changes up to Github In Rstudio In Github Desktop Console I want to pull but I have local work 46.10 Merge branch into Main Locally in Github Desktop In console In Github: submitting pull requests Resolving conflicts Delete your branch 46.10.0.1 Github + Rstudio 46.10.0.2 In Github Desktop Forking 46.11 What we learned 46.12 Git commands Recommended learning Where to enter commands Sample commands 46.13 Resources 47 Common errors Placeholder 47.1 Interpreting error messages 47.2 Common errors Typo errors Package errors Object errors Function syntax errors Logic errors Factor errors Plotting errors R Markdown errors Miscellaneous 47.3 Resources 48 Getting help Placeholder 48.1 Github issues 48.2 Reproducible example The reprex package Minimal data 48.3 Posting to a forum 48.4 Resources 49 R on network drives Placeholder 49.1 Overview 49.2 RStudio as administrator 49.3 Useful commands 49.4 Troubleshooting common errors 50 Data Table Placeholder 50.1 Intro to data tables 50.2 Load packages and import data Load packages Import data 50.3 The i argument: selecting and filtering rows Using helper functions for filtering 50.4 The j argument: selecting and computing on columns Selecting columns Computing on columns 50.5 The by argument: computing by groups 50.6 Adding and updating to data tables 50.7 Resources "]]
